(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{2242:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shoppingcart",function(){return i(8884)}])},6098:function(e,t){"use strict";t.Z={src:"/_next/static/media/placeholder.9771a36a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEX3+vjl39zduLXcuLbSXVvTPz/FOTJ+VE7GIQ7KAADTOTjMHRDKMCzp4+HQT03QT03QTUvSUlCyNzTo3Nrw7uz2+Pby8O7k3tvo4+Hy8vDl39zn2tjl1NHk1NHdzMnWycbVtbI4hnhfAAAAGXRSTlMAAAAAAAAAAAApQ3aFhoaHkpOnscr4+fv86sVMfQAAAEJJREFUeNoFQIUNgDAAKw5zd/v/SoJzx7bhOPFZx7mzH1TLpeSmIHuIMXQJUX1KvgroNeYcS4MwagxlBNf9Ps97Xz+PzAQcq+YxOAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},997:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var s=i(5893);let n=e=>{let{type:t}=e,i={ratingHighlighted:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M12 4.5L14.3175 9.195L19.5 9.9525L15.75 13.605L16.635 18.765L12 16.3275L7.365 18.765L8.25 13.605L4.5 9.9525L9.6825 9.195L12 4.5Z",fill:"#EBC03F",stroke:"#EBC03F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ratingDefault:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M12.1053 3.68421L14.7074 8.95579L20.5263 9.80632L16.3158 13.9074L17.3095 19.7011L12.1053 16.9642L6.90105 19.7011L7.89473 13.9074L3.6842 9.80632L9.50315 8.95579L12.1053 3.68421Z",fill:"#FCFBF8",stroke:"#E2E0DA",strokeLinecap:"round",strokeLinejoin:"round"})})};return i[t]};var a=i(1571),r=i.n(a);let l=e=>{let{ratingInPercent:t,showOutOf:i}=e,a=t/20,l=Math.trunc(a),c=Number((a-l).toFixed(2)),o=100*c,d=(0,s.jsx)(n,{type:"ratingHighlighted"}),h=(0,s.jsx)(n,{type:"ratingDefault"}),u=()=>h,m=!0,_=e=>e<=l-1?(m=!0,"100%"):o>0&&m?(m=!1,"".concat(o,"%")):"0%";return(0,s.jsx)("div",{className:r().container,children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("div",{style:{width:_(t),overflow:"hidden",position:"absolute"},children:d}),u()]},t))})};var c=l},6053:function(e,t,i){"use strict";i.d(t,{Z:function(){return k}});var s=i(5893),n=i(5498),a=i.n(n),r=i(9008),l=i.n(r),c=i(1664),o=i.n(c),d=i(5675),h=i.n(d),u={src:"/_next/static/media/user.c3034e50.svg",height:15,width:12,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/cart.148d0ccf.svg",height:17,width:14,blurWidth:0,blurHeight:0},_=i(2990),x=i.n(_),p=i(1163),g=i(4883),v=i.n(g),j=i(7294),f=function(){let[e,t]=(0,j.useState)(""),[i,n]=(0,j.useState)(""),a=(0,p.useRouter)(),r=e=>{e.preventDefault(),a.push("/profile")},l=e=>{t(e.target.value)},c=e=>{n(e.target.value)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:v().container,children:[(0,s.jsx)("h1",{children:"Log in"}),(0,s.jsxs)("form",{action:"",method:"post",name:"login",onSubmit:r,children:[(0,s.jsxs)("div",{className:v().email,children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",onChange:c,value:i,placeholder:"example.@mail.com",required:!0})]}),(0,s.jsxs)("div",{className:v().password,children:[(0,s.jsx)("label",{htmlFor:"psw",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"psw",name:"psw",onChange:l,value:e,minLength:6,required:!0}),(0,s.jsx)("span",{className:v().massage,style:{display:"".concat(e.length>=6?"none":"block")},children:"Your password must be at least 6 characters long"})]}),(0,s.jsx)("button",{className:v().loginBtn,type:"submit",children:"Log in"})]})]})})},N=i(6010),w=i(8085);function y(){let e;let t=(0,p.useRouter)(),[i,n]=(0,j.useState)(!1),{items:a}=(0,w.C)(e=>e.cart);console.log(a);let r=()=>{n(!i)};return(0,s.jsx)("nav",{className:x().container,children:(0,s.jsxs)("ul",{className:x().list,children:[(0,s.jsx)("li",{className:x().item,children:(0,s.jsx)(o(),{href:"./",className:(0,N.Z)({[x().disabled]:"./"===t.asPath}),children:"books"})}),(0,s.jsx)("li",{className:x().item,children:(0,s.jsx)(o(),{href:"./audio",children:"Audiobooks"})}),(0,s.jsx)("li",{className:x().item,children:(0,s.jsx)(o(),{href:"./stationery",children:"Stationery & gifts"})}),(0,s.jsx)("li",{className:x().item,children:(0,s.jsx)(o(),{href:"./blog",children:"blog"})}),(0,s.jsx)("li",{className:x().item,children:(0,s.jsx)(h(),{className:x().user,onClick:r,src:u,alt:"Personal account "})}),i&&(0,s.jsx)(f,{}),(0,s.jsxs)("li",{className:x().item,children:[(0,s.jsx)(h(),{onClick:()=>t.push("/shoppingcart"),className:x().cart,src:m,alt:"Your shopping cart"}),(0,s.jsx)("div",{className:x().inCart,children:(e=0,a.forEach(t=>{e+=t.quantity}),e||0)})]})]})})}var b=i(6500),A=i.n(b);function k(e){let{children:t}=e,i=(0,p.useRouter)();return(0,s.jsxs)("div",{className:a().className,children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Bookstore"}),(0,s.jsx)("meta",{name:"description",content:"SkillFactory Next.js project"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{name:"author",content:"MArina"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:A().container,children:[(0,s.jsxs)("header",{className:A().header,children:[(0,s.jsx)(o(),{className:(0,N.Z)(A().logo,{[A().disabled]:"./"===i.asPath}),href:"./",children:"Bookshop"}),(0,s.jsx)(y,{})]}),(0,s.jsx)("main",{className:A().main,children:t})]})]})}},8884:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var s=i(5893),n=i(6053),a=i(3565),r=i.n(a),l=i(8085),c=i(136),o=i.n(c),d=i(5675),h=i.n(d),u=i(6098),m=i(558),_=i(9583),x=i(997),p=function(e){let{id:t,cover:i,authors:n,title:a,averageRating:r,ratingCount:c,price:d,quantity:p=0,delivery:g}=e,v=(0,l.T)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:o().book,children:[(0,s.jsx)("div",{className:o().cover,children:i?(0,s.jsx)(h(),{alt:"book cover",loading:"lazy",className:o().image,width:102,height:151,src:i}):(0,s.jsx)(h(),{alt:"preloader book",className:o().loader,width:40,height:40,src:u.Z})}),(0,s.jsxs)("div",{className:o().description,children:[(0,s.jsx)("h2",{className:o().title,children:a}),(0,s.jsx)("p",{className:o().author,children:n}),(0,s.jsxs)("div",{className:o().rate,children:[(0,s.jsx)(x.Z,{ratingInPercent:40,showOutOf:!0}),(0,s.jsxs)("div",{className:o().reviews,children:[c||10," reviews"]})]})]})]}),(0,s.jsx)("div",{className:o().quantity,children:(0,s.jsxs)("div",{className:o().counter,children:[(0,s.jsx)("div",{title:"press to deduct",className:o().minusplus,onClick:()=>{v((0,m.X1)(t))},children:"-"}),(0,s.jsx)("span",{children:p}),(0,s.jsx)("div",{title:"press to add",className:o().minusplus,onClick:()=>{v((0,m.g1)(t))},children:"+"})]})}),(0,s.jsxs)("div",{className:o().price,children:[d.currencyCode," ",(d.amount*p).toFixed(2)]}),(0,s.jsxs)("div",{className:o().delivery,children:["Shipping: ",g]}),(0,s.jsx)("div",{className:o().trash,onClick:()=>{v((0,m.cl)(t))},children:(0,s.jsx)(_.lp8,{title:"press to delete"})})]})};function g(e){let{id:t,cover:i,authors:a,title:c,averageRating:o,ratingCount:d,price:h,quantity:u=0,delivery:_}=e,x=(0,l.T)(),{items:g}=(0,l.C)(e=>e.cart),v=(0,l.C)(e=>e.cart.items.reduce((e,t)=>e+t.price.amount*t.quantity,0));return(0,s.jsx)(n.Z,{children:(0,s.jsx)("div",{className:r().cart,children:(0,s.jsxs)("div",{className:r().container,children:[(0,s.jsx)("h2",{className:r().name,children:"Shopping cart"}),(0,s.jsxs)("ul",{className:r().fields,children:[(0,s.jsx)("li",{children:"item"}),(0,s.jsx)("li",{children:"quantity"}),(0,s.jsx)("li",{children:"price"}),(0,s.jsx)("li",{children:"delivery"}),(0,s.jsx)("li",{children:"delete"})]}),(0,s.jsx)("ul",{className:r().cartList,children:+g.length?null==g?void 0:g.map(e=>(0,s.jsxs)("li",{children:[" ",(0,s.jsx)(p,{id:e.id,cover:e.cover,title:e.title,authors:e.authors,quantity:e.quantity,averageRating:e.averageRating,ratingCount:e.ratingCount,price:e.price,delivery:e.delivery},e.id)]},e.id)):(0,s.jsxs)("p",{className:r().massage,children:["UPS! Your basket is still empty. Please go back to ",(0,s.jsx)("a",{href:"./",children:"Home page "}),"to browse some books"]})}),(0,s.jsxs)("div",{className:r().total,children:["Total price: ",v.toFixed(2)]}),(0,s.jsx)("button",{onClick:()=>x((0,m.JE)()),className:r().checkout,children:"checkout"})]})})})}},8085:function(e,t,i){"use strict";i.d(t,{C:function(){return a},T:function(){return n}});var s=i(1649);let n=()=>(0,s.I0)(),a=s.v9},136:function(e){e.exports={book:"cartItem_book__Kwv1I",cover:"cartItem_cover__f7X65",title:"cartItem_title__7s5fi",author:"cartItem_author__Twdp4",rate:"cartItem_rate__zdvdb",reviews:"cartItem_reviews__4ehjK",quantity:"cartItem_quantity__Sijfi",counter:"cartItem_counter__SqNKn",minusplus:"cartItem_minusplus__5doiN",price:"cartItem_price__S9Bdd",delivery:"cartItem_delivery__14_W4",trash:"cartItem_trash__Ukbk0"}},1571:function(e){e.exports={container:"rating_container__JGlAR"}},6500:function(e){e.exports={container:"layout_container___pZuy",logo:"layout_logo__3lwDq",header:"layout_header__ifbB0",main:"layout_main__E22hH"}},4883:function(e){e.exports={container:"login_container__yJKGg",email:"login_email__BTlQ6",password:"login_password__geb_T",loginBtn:"login_loginBtn__JBs3o",massage:"login_massage__2cIQz"}},2990:function(e){e.exports={container:"navigation_container__mi29_",list:"navigation_list__Lz7FS",item:"navigation_item__Xz5T8",user:"navigation_user__o9S9G",cart:"navigation_cart__SpD0w",disabled:"navigation_disabled__PJERm",inCart:"navigation_inCart__lPDkx"}},3565:function(e){e.exports={container:"cart_container__9CICp",cartList:"cart_cartList__caofU",name:"cart_name__C5OEP",fields:"cart_fields__cZJXF",total:"cart_total__3sz3E",checkout:"cart_checkout__ssB_I",massage:"cart_massage__pM5FV"}},8357:function(e,t,i){"use strict";i.d(t,{w_:function(){return c}});var s=i(7294),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(n),r=function(){return(r=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)0>t.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]]);return i};function c(e){return function(t){return s.createElement(o,r({attr:r({},e.attr)},t),function e(t){return t&&t.map(function(t,i){return s.createElement(t.tag,r({key:i},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var i,n=e.attr,a=e.size,c=e.title,o=l(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),s.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:i,style:r(r({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&s.createElement("title",null,c),e.children)};return void 0!==a?s.createElement(a.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[445,794,774,888,179],function(){return e(e.s=2242)}),_N_E=e.O()}]);